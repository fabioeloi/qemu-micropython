# Release Notes - v1.1.0 (Final)

## Overview

The v1.1.0 release marks the completion of the **Debugging and QEMU Integration** milestone for the STM32 IoT Virtual Development Environment. This release provides comprehensive debugging capabilities, enhanced QEMU integration, and improved testing frameworks for MicroPython development on STM32 microcontrollers. All planned work for GDB Integration and the Unit Testing Framework under this milestone has been completed.

## Major Features

### GDB Integration (100% Complete for v1.1.0)

- **Comprehensive MicroPython Debugging Support**:
    - Implemented Python-level debugging with call stack and variable inspection.
    - Added custom GDB commands for MicroPython state inspection.
    - Created Python helpers for enhanced debugging capabilities.
    - Implemented breakpoint support with Python function name resolution.
- **Exception Handling Enhancement**:
    - Added automatic exception breakpoints with type filtering.
    - Implemented exception state capture and inspection.
    - Created exception backtrace formatting with source context.
    - Added local variable state inspection at exception points.
    - Implemented exception visualization with color-coded output.
    - Added interactive exception navigation and history tracking.
- **IDE Integration**:
    - Added VSCode integration for exception visualization.
    - Created a dedicated VSCode extension for MicroPython debugging.
    - Implemented rich exception visualization in VSCode.
    - Added configuration files for VSCode debugging.

### Custom UART Driver (100% Complete for v1.1.0)

- Implemented comprehensive custom UART driver with advanced simulation features.
- Created Python bindings for UART testing features.
- Added QEMU integration layer for the custom UART driver.
- Implemented device-to-device communication capabilities.
- Added error and noise simulation for realistic testing.

### Semihosting Integration (Deferred)

- Basic semihosting support for QEMU (file I/O, console) was initiated.
- **Further enhancements and full MicroPython integration for Semihosting are deferred to a future release (likely v1.2.0).**

### Alternative QEMU Machine Types (Deferred)

- Initial configuration for `olimex-stm32-h405` machine type for STM32F4 emulation was completed.
- **Support for additional STM32F4 variants and other STM32 families (e.g., STM32F7) is deferred to a future release (likely v1.2.0).**

### Comprehensive Unit Testing Framework (100% Complete for v1.1.0)

- Created UART testing framework with network simulation capabilities.
- Implemented device-to-device testing for UART communication.
- Added GDB integration tests with exception handling verification.
- Created exception visualization testing framework.
- Implemented IDE integration testing for VSCode.

## Documentation

- Created comprehensive GDB debugging guide.
- Added exception handling documentation with command reference.
- Created detailed UART driver documentation.
- Added IDE integration documentation for VSCode.
- Created release notes for all major beta releases.

## Beta Releases

The v1.1.0 milestone included several beta releases:

- **v1.1.0-beta.1**: Initial work on debugging capabilities.
- **v1.1.0-beta.2**: Completed implementation of custom UART driver.
- **v1.1.0-beta.3**: Enhanced UART testing capabilities.
- **v1.1.0-beta.4**: GDB integration and Python debugging.
- **v1.1.0-beta.5**: Enhanced exception handling documentation and testing.

## Bug Fixes in v1.1.0 Cycle

- Fixed issues with GDB connection to QEMU.
- Addressed buffer overflow in UART driver.
- Improved error handling in GDB scripts.
- Fixed inconsistencies in version information across beta releases.

## Known Issues

- Some advanced exception handling features might exhibit limitations in QEMU due to the nature of the emulation environment.
- Semihosting integration is currently basic; full functionality is planned for a future release.
- Support for alternative QEMU machine types beyond `olimex-stm32-h405` is not yet available.

## Upgrading

To upgrade from a previous version:

1. Pull the latest changes from the repository.
2. Run `./scripts/build.sh` to build the firmware.
3. Run `./scripts/run_qemu.sh` to test the firmware in QEMU.

## Contributors

- Fabio Silva (@fabioeloi)
- [Community contributions are welcome!]

## Next Steps

The next milestone (v1.2.0) will focus on **IoT and Simulation Capabilities**, including:

- Network simulation for IoT connectivity testing (including MQTT simulation).
- Virtual sensors simulation.
- State snapshots for efficient scenario testing.
- Over-the-air (OTA) update mechanisms.
- Further enhancements to Semihosting and broader QEMU machine type support.

For more information, see the [Roadmap Status](../../ROADMAP_STATUS.md) document.
---
*This v1.1.0 (Final) release focuses on the core "Debugging and QEMU Integration" features. MQTT simulation features, developed in parallel, are explicitly part of the upcoming v1.2.0 milestone.*
